from django.contrib.auth.models import User
from adventure.models import Player, Room

# Clear any rooms if 
Room.objects.all().delete()

#I copied and pasted the results of room_title_description_combinator.py
room_title_description_source = [{'title': 'A OBSIDIAN CLOISTER', 'description': "You wish you had brought a torch. It's really dark in here."}, {'title': 'A HAZY BARRACKS', 'description': 'A thousand eyes stare at you from the darkness.'}, {'title': 'A HAUNTED BEDROOM', 'description': 'The light in this place has gone out a long time ago.'}, {'title': 'A MURKY LOBBY', 'description': 'Even the shadows seems to pity you here.'}, {'title': 'A STYGIAN ROOM', 'description': 'This place is incredibly dusty.'}, {'title': 'A CALIGINOUS ANTECHAMBER', 'description': "You wish you had brought a torch. It's really dark in here."}, {'title': 'A FOGGY STOREROOM', 'description': 'Unfortunately, you cannot see in the dark, so this room will forever be mysterious.'}, {'title': 'A DARK HALLWAY', 'description': 'There are only shadows, spiritual and physical here.'}, {'title': 'A PLUTONIAN CHAMBER', 'description': 'Even the shadows seems to pity you here.'}, {'title': 'A HAZY CLOAKROOM', 'description': "You wish you had brought a torch. It's really dark in here."}, {'title': 'A STYGIAN LOBBY', 'description': "You wish you had brought a torch. It's really dark in here."}, {'title': 'A DARKENED BARRACKS', 'description': 'This place is incredibly dusty.'}, {'title': 'A TENEBROUS CELLAR', 'description': 'There are only shadows, spiritual and physical here.'}, {'title': 'A CIMMERIAN STOREROOM', 'description': "You wish you had brought a torch. It's really dark in here."}, {'title': 'A CIMMERIAN BEDROOM', 'description': 'A sudden melancholy over takes you.'}, {'title': 'A CLOUDED STOREROOM', 'description': "You wish you had brought a torch. It's really dark in here."}, {'title': 'A MURKY CLOISTER', 'description': 'A thousand eyes stare at you from the darkness.'}, {'title': 'A PLUTONIAN STOREROOM', 'description': 'The light in this place has gone out a long time ago.'}, {'title': 'A STYGIAN ROOM', 'description': 'The light in this place has gone out a long time ago.'}, {'title': 'A CLOUDED STOREROOM', 'description': 'There are only shadows, spiritual and physical here.'}, {'title': 'A DARKENED LIBRARY', 'description': 'This place is incredibly dusty.'}, {'title': 'A DARK ROOM', 'description': "You wish you had brought a torch. It's really dark in here."}, {'title': 'A OBSIDIAN CELLAR', 'description': 'A sudden melancholy over takes you.'}, {'title': 'A TENEBROUS CLOAKROOM', 'description': 'This place is incredibly dusty.'}, {'title': 'A HAUNTED HALLWAY', 'description': 'This place is incredibly dusty.'}, {'title': 'A CIMMERIAN LOBBY', 'description': 'A sudden melancholy over takes you.'}, {'title': 'A OBSIDIAN ROOM', 'description': 'A sudden melancholy over takes you.'}, {'title': 'A DIM ANTECHAMBER', 'description': 'A thousand eyes stare at you from the darkness.'}, {'title': 'A PLUTONIAN CLOISTER', 'description': 'This place is incredibly dusty.'}, {'title': 'A SHADOWY LIBRARY', 'description': 'Even the shadows seems to pity you here.'}, {'title': 'A OBSIDIAN CHAMBER', 'description': 'Unfortunately, you cannot see in the dark, so this room will forever be mysterious.'}, {'title': 'A TENEBROUS CLOISTER', 'description': 'Even the shadows seems to pity you here.'}, {'title': 'A HAZY ANTECHAMBER', 'description': 'A sudden melancholy over takes you.'}, {'title': 'A TENEBROUS OVERLOOK', 'description': 'A sudden melancholy over takes you.'}, {'title': 'A CLOUDED CELLAR', 'description': 'The light in this place has gone out a long time ago.'}, {'title': 'A OBSIDIAN BEDROOM', 'description': 'Even the shadows seems to pity you here.'}, {'title': 'A DARK CELLAR', 'description': 'A thousand eyes stare at you from the darkness.'}, {'title': 'A DARK STOREROOM', 'description': 'There are only shadows, spiritual and physical here.'}, {'title': 'A DIM BEDROOM', 'description': "You wish you had brought a torch. It's really dark in here."}, {'title': 'A SHADOWY CLOSET', 'description': 'Unfortunately, you cannot see in the dark, so this room will forever be mysterious.'}, {'title': 'A OBSIDIAN LOBBY', 'description': 'Even the shadows seems to pity you here.'}, {'title': 'A DARKENED LOBBY', 'description': 'A sudden melancholy over takes you.'}, {'title': 'A CIMMERIAN CLOSET', 'description': "You wish you had brought a torch. It's really dark in here."}, {'title': 'A SHADOWY OVERLOOK', 'description': 'There is nothing to see here.'}, {'title': 'A TENEBROUS BEDROOM', 'description': 'There are only shadows, spiritual and physical here.'}, {'title': 'A OBSIDIAN LOBBY', 'description': 'There is nothing to see here.'}, {'title': 'A PLUTONIAN LIBRARY', 'description': 'The light in this place has gone out a long time ago.'}, {'title': 'A CALIGINOUS CLOSET', 'description': 'There are only shadows, spiritual and physical here.'}, {'title': 'A CIMMERIAN STOREROOM', 'description': 'The light in this place has gone out a long time ago.'}, {'title': 'A CLOUDED ROOM', 'description': 'A thousand eyes stare at you from the darkness.'}, {'title': 'A DARKENED CLOISTER', 'description': "You wish you had brought a torch. It's really dark in here."}, {'title': 'A HAZY ROOM', 'description': 'A sudden melancholy over takes you.'}, {'title': 'A CIMMERIAN LOBBY', 'description': 'A thousand eyes stare at you from the darkness.'}, {'title': 'A HAUNTED CELLAR', 'description': 'Unfortunately, you cannot see in the dark, so this room will forever be mysterious.'}, {'title': 'A DIM OVERLOOK', 'description': 'A thousand eyes stare at you from the darkness.'}, {'title': 'A DARK ANTECHAMBER', 'description': 'A sudden melancholy over takes you.'}, {'title': 'A DIM ANTECHAMBER', 'description': 'This place is incredibly dusty.'}, {'title': 'A HAUNTED CHAMBER', 'description': 'Even the shadows seems to pity you here.'}, {'title': 'A HAZY CHAMBER', 'description': 'The light in this place has gone out a long time ago.'}, {'title': 'A CALIGINOUS LIBRARY', 'description': 'There is nothing to see here.'}, {'title': 'A CIMMERIAN CLOSET', 'description': 'This place is incredibly dusty.'}, {'title': 'A CALIGINOUS CHAMBER', 'description': 'The light in this place has gone out a long time ago.'}, {'title': 'A CLOUDED BEDROOM', 'description': 'This place is incredibly dusty.'}, {'title': 'A DIM STOREROOM', 'description': 'A thousand eyes stare at you from the darkness.'}, {'title': 'A SHADOWY CHAMBER', 'description': 'Even the shadows seems to pity you here.'}, {'title': 'A DARK LOBBY', 'description': "You wish you had brought a torch. It's really dark in here."}, {'title': 'A PLUTONIAN CLOISTER', 'description': 'A thousand eyes stare at you from the darkness.'}, {'title': 'A DARK LOBBY', 'description': "You wish you had brought a torch. It's really dark in here."}, {'title': 'A CIMMERIAN CLOISTER', 'description': 'There is nothing to see here.'}, {'title': 'A DARKENED BARRACKS', 'description': 'There are only shadows, spiritual and physical here.'}, {'title': 'A DARKENED OVERLOOK', 'description': 'There are only shadows, spiritual and physical here.'}, {'title': 'A CALIGINOUS LOBBY', 'description': 'There are only shadows, spiritual and physical here.'}, {'title': 'A CIMMERIAN BARRACKS', 'description': 'A sudden melancholy over takes you.'}, {'title': 'A DARKENED OVERLOOK', 'description': 'Unfortunately, you cannot see in the dark, so this room will forever be mysterious.'}, {'title': 'A CLOUDED ANTECHAMBER', 'description': 'There are only shadows, spiritual and physical here.'}, {'title': 'A CIMMERIAN BEDROOM', 'description': 'There is nothing to see here.'}, {'title': 'A CALIGINOUS BARRACKS', 'description': 'Unfortunately, you cannot see in the dark, so this room will forever be mysterious.'}, {'title': 'A CALIGINOUS CLOAKROOM', 'description': "You wish you had brought a torch. It's really dark in here."}, {'title': 'A PLUTONIAN HALLWAY', 'description': 'This place is incredibly dusty.'}, {'title': 'A MURKY CLOISTER', 'description': 'The light in this place has gone out a long time ago.'}, {'title': 'A CLOUDED ROOM', 'description': 'Unfortunately, you cannot see in the dark, so this room will forever be mysterious.'}, {'title': 'A HAZY ROOM', 'description': 'A sudden melancholy over takes you.'}, {'title': 'A HAZY OVERLOOK', 'description': 'Even the shadows seems to pity you here.'}, {'title': 'A TENEBROUS ANTECHAMBER', 'description': 'There is nothing to see here.'}, {'title': 'A CLOUDED BARRACKS', 'description': 'The light in this place has gone out a long time ago.'}, {'title': 'A CLOUDED ROOM', 'description': 'There are only shadows, spiritual and physical here.'}, {'title': 'A SHADOWY CLOAKROOM', 'description': 'A thousand eyes stare at you from the darkness.'}, {'title': 'A CIMMERIAN HALLWAY', 'description': 'A sudden melancholy over takes you.'}, {'title': 'A SHADOWY CLOAKROOM', 'description': "You wish you had brought a torch. It's really dark in here."}, {'title': 'A CALIGINOUS OVERLOOK', 'description': 'There are only shadows, spiritual and physical here.'}, {'title': 'A TENEBROUS CLOISTER', 'description': 'A thousand eyes stare at you from the darkness.'}, {'title': 'A TENEBROUS OVERLOOK', 'description': "You wish you had brought a torch. It's really dark in here."}, {'title': 'A CALIGINOUS CLOISTER', 'description': 'This place is incredibly dusty.'}, {'title': 'A HAZY BARRACKS', 'description': 'A sudden melancholy over takes you.'}, {'title': 'A TENEBROUS OVERLOOK', 'description': 'Even the shadows seems to pity you here.'}, {'title': 'A STYGIAN CHAMBER', 'description': 'Even the shadows seems to pity you here.'}, {'title': 'A TENEBROUS CLOAKROOM', 'description': 'There is nothing to see here.'}, {'title': 'A FOGGY BARRACKS', 'description': 'Even the shadows seems to pity you here.'}, {'title': 'A CIMMERIAN CLOSET', 'description': 'A thousand eyes stare at you from the darkness.'}, {'title': 'A OBSIDIAN ANTECHAMBER', 'description': 'Even the shadows seems to pity you here.'}]

#empty list. 
room_list=[]

for num in range(100):
  new_room = Room(title=room_title_description_source[num]["title"], description=room_title_description_source[num]["description"])
  new_room.save()
  room_list.append(new_room)

print(len(room_title_description_source))

# Let's try connecting those rooms! in the grid pattern described in 
# algorithim_idea_2020_02_26_ajl/pseudocode.md 

#I had to order the elements by id in the queryset to make the connections work. 

for num in range(100):
  print(Room.objects.all().order_by('id')[num].title, num)
  if num > 0 and num + 1 < 20:
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num-1], "w")
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num+1], "e")
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num+20], "s")
  elif (num > 20 and num+1 < 40) or (num > 40 and num + 1 < 60) or (num > 60 and num + 1 < 80):
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num-20], "n")
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num-1], "w")
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num+1], "e")
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num+20], "s")
  elif (num > 80 and num + 1 < 100):
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num-20], "n")
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num-1], "w")
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num+1], "e")
  elif num == 20 or num == 40 or num == 60:
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num-20], "n")
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num+1], "e")
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num+20], "s")
  elif num == 39 or num == 59 or num == 79:
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num-20], "n")
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num-1], "w")
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num+20], "s")
  elif num == 19:
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num-1], "w")
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num+20], "s")
  elif num == 80:
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num-20], "n")
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num+1], "e")
  elif num == 99:
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num-20], "n")
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num-1], "w")
  elif num == 0:
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num+1], "e")
    Room.objects.all().order_by('id')[num].connectRooms(Room.objects.all().order_by('id')[num+20], "s")


 
# Once the above is run, let's shove all the players in the same room; this is effectively a reset
players=Player.objects.all()
for p in players:
  p.currentRoom=Room.objects.all().order_by('id')[0].id
  p.save()

